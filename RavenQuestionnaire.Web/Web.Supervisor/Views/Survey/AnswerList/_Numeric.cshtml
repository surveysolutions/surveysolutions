@using Questionnaire.Core.Web.Helpers

@model Main.Core.View.Question.CompleteQuestionView
@{
    Guid answerGuid = Model.Answers.Length > 0 ? Model.Answers[0].PublicKey : Guid.NewGuid();
    var settings = (IDictionary<string, object>)ViewBag.EnabledRadioBoxSettings;
    settings.Add("onchange ", "$(this.form).submit();");
}
@using (Html.BeginCollectionItem("Answers", true, answerGuid))
{
    <fieldset><legend>@Html.Raw(Model.Title)</legend>
        @{
    var viewBag = new Dictionary<string, object>();

    viewBag.Add("name", Html.ViewContext.ViewData.TemplateInfo.GetFullHtmlFieldName("AnswerValue"));
    string id = Html.ViewContext.ViewData.TemplateInfo.GetFullHtmlFieldId("AnswerValue");
    viewBag.Add("id", id);
    viewBag.Add("draw-key-board", "true");
        }
        @Html.Hidden("PublicKey", answerGuid)
        @Html.Hidden("Selected", true)
        @Html.Hidden("Parent", Model.PublicKey)
        @Html.TextBox("AnswerValue", Model.Answer ?? string.Empty, settings)
    </fieldset>
}