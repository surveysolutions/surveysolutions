@using Web.Supervisor.Models
@model Web.Supervisor.DesignerPublicService.QuestionnaireListView

@{
    ViewBag.Title = "Import Template";
}
<script>
    $(document).ready(function() {
        $("#questionnaireTable").tablesorter({
            order: "@Model.Order",
            send: function(data) {
                $.ajax({
                    type: "POST",
                    url: "@Url.Action("List", "Template")",
                    data: JSON.stringify({ SortOrder: data, Pager: { Page: @Model.Page , PageSize: @Model.PageSize } }),
                    contentType: 'application/json, charset=utf-8',
                    statusCode: {
                        200: function(response) {
                            $("#questionnaireTable tbody").html(response);
                        }
                    }
                });
            }
        });
    });
</script>

<h2>Designer questionnaires <small>list</small></h2>
<table id="questionnaireTable" class="table table-striped table-bordered table-condensed">
    <thead>
        <tr>
            <th class="sorting" sorter='{"key":"Title"}'>Name</th>
            <td></td>
        </tr>
    </thead>
    <tbody>
        @Html.Partial("_PartialGrid_Questionnaires", Model)
    </tbody>
</table>
<div class="pagination">
    @if (((double)Model.TotalCount / Model.PageSize) > 1d)
    {
        <text> @Html.QPager(Model.PageSize, Model.Page, Model.TotalCount, new { order = Model.Order })</text>
    }
</div>
