@using Questionnaire.Core.Web.Helpers
@using RavenQuestionnaire.Core.Views.Answer
@model RavenQuestionnaire.Core.Views.Question.CompleteQuestionView

@{
    Guid selected = Guid.Empty;
    var answer = Model.Answers.FirstOrDefault(a => ((CompleteAnswerView)a).Selected);
    if (answer != null)
    {
        selected = answer.PublicKey;
    }
    ((IDictionary<string,object>)ViewBag.EnabledRadioBoxSettings).Add("onchange", "$(this.form).submit();");
}
  @Html.Hidden(ViewData.TemplateInfo.HtmlFieldPrefix + ".answers[0].QuestionPublicKey", Model.Answers.FirstOrDefault().QuestionId)
@Html.DropDownList(ViewData.TemplateInfo.HtmlFieldPrefix + ".answers[0].PublicKey", new SelectList(Model.Answers, "PublicKey", "AnswerText", selected), "Select answer", (IDictionary<string, object>)ViewBag.EnabledRadioBoxSettings)