@using Questionnaire.Core.Web.Helpers
@model RavenQuestionnaire.Core.Views.Question.CompleteQuestionView
@{ ((IDictionary<string, object>)ViewBag.EnabledRadioBoxSettings).Add("onclick", "$(this.form).submit();"); }
<fieldset data-role="controlgroup" data-type="horizontal">
    <legend @if (!String.IsNullOrEmpty(Model.Instructions))
            {
                       <text>
                       data-original-title = "Instructions"
                       data-content = "@Model.Instructions"
                       rel = "popover"
                       </text>
            } >
        @Html.Raw( Model.QuestionText)</legend>
    @foreach (var item in Model.Answers)
    {
        using (Html.BeginCollectionItem("Answers", true, item.PublicKey))
        {
        @Html.Hidden("QuestionId", Model.PublicKey)
        //var radibutonname = string.Format("radiobutton-{0}", item.PublicKey);
        //((IDictionary<string, object>)ViewBag.EnabledRadioBoxSettings)["id"] = radibutonname;
        @Html.CheckBox("Selected", item.Selected, (IDictionary<string, object>)ViewBag.EnabledRadioBoxSettings)
        @Html.Hidden("PublicKey", item.PublicKey)
        <label for="@ViewData.TemplateInfo.GetFullHtmlFieldId("Selected")">
            @{ Html.RenderPartial(string.Format("~/Views/Answer/answerViewHtml5/_{0}.cshtml", item.AnswerType), item); }
            </label>

     @*       @Html.Label("Selected", item.AnswerText)*@

        }
    }
</fieldset>
