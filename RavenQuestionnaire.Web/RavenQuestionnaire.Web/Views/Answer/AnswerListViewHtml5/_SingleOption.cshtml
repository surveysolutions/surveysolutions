@using Questionnaire.Core.Web.Helpers
@using RavenQuestionnaire.Core.Entities.SubEntities
@using RavenQuestionnaire.Core.Views.Answer
@model RavenQuestionnaire.Core.Views.Question.CompleteQuestionView
@{ ((IDictionary<string, object>)ViewBag.EnabledRadioBoxSettings).Add("onclick", "$(this.form).submit();"); }
@using (Html.BeginCollectionItem("Answers", true, Model.PublicKey))
{
    @Html.Hidden("QuestionId", Model.PublicKey)
    <fieldset data-role="controlgroup">
        <legend>@Html.DisplayFor(modelItem => Model.QuestionText)</legend>
        @foreach (var item in Model.Answers)
        {
            @Html.Hidden("Selected", true)
            
                var radibutonname = string.Format("radiobutton-{0}", item.PublicKey);
                ((IDictionary<string, object>) ViewBag.EnabledRadioBoxSettings)["id"] = radibutonname;
            
            @Html.RadioButton("PublicKey", item.PublicKey, item.Selected, (IDictionary<string, object>)ViewBag.EnabledRadioBoxSettings)
            Html.RenderPartial(string.Format("~/Views/Answer/answerViewHtml5/_{0}.cshtml", item.AnswerType), item);
        }
    </fieldset>
}
