@using System.Web.Mvc.Html5
@using Questionnaire.Core.Web.Helpers
@model RavenQuestionnaire.Core.Views.Question.CompleteQuestionView
@{
    var answerGuid = Model.Answers.Length > 0 ? Model.Answers[0].PublicKey : Guid.NewGuid();
}
@using (Html.BeginCollectionItem("Answers", true, answerGuid))
{
    var viewBag = (IDictionary<string, object>) ViewBag.EnabledRadioBoxSettings;
  
    viewBag.Add("name", Html.ViewContext.ViewData.TemplateInfo.GetFullHtmlFieldName("AnswerValue"));
    var id = Html.ViewContext.ViewData.TemplateInfo.GetFullHtmlFieldId("AnswerValue");
    viewBag.Add("id", id);

    @Html.Hidden("PublicKey", answerGuid)
    @Html.Hidden("Selected", true)
    @Html.Hidden("QuestionId", Model.PublicKey)
    @Html.Label("AnswerValue", Model.QuestionText)
    @Html.Html5Range(int.MinValue, int.MaxValue, 1, Model.Answers.Length > 0 && !string.IsNullOrEmpty(Model.Answers[0].AnswerValue) ? Convert.ToInt32(Model.Answers[0].AnswerValue) : 0, viewBag)
 
    
    
    <input type="submit" value="Set Number" data-inline="true"/>
}
