@{
    Layout = "~/Views/Shared/Layout.empty.cshtml";
    this.ViewBag.Title = "Control Panel: NConfig";
}

<b>Value of Test Parameter:</br></b>
@(System.Configuration.ConfigurationManager.AppSettings["Test"] ?? "<null>")

<br/><br/>

<b>Resolved Files:<br/></b>

@{
    foreach (var path in NConfig.NConfigurator.Default.FileNames)
    {
        if (Path.GetFullPath(path) == path)
        {
            continue;
        }

        string filePath = path;

        if (!VirtualPathUtility.IsAbsolute(path) && !VirtualPathUtility.IsAppRelative(path))
        {
            filePath = VirtualPathUtility.ToAppRelative("\\" + path);
        }

        filePath = System.Web.Hosting.HostingEnvironment.MapPath(filePath);
        @Html.Raw("File Path: " + filePath + "<br/>")
    }
}

