@model IEnumerable<Main.Core.Entities.SubEntities.Option>

@{
    ViewBag.Title = "Edit options";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>@ViewBag.Title</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="~/UpdatedDesigner/vendor/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />
    <style type="text/css">
        body {
            padding-top: 70px;
            padding-bottom: 70px;
        }
    </style>
    @Scripts.Render("~/simplepage")
    <script type="text/javascript">
        function close_window() {
            if (confirm("Close Window?")) {
                close();
            }
        }
        function apply() {
            $.post("@Url.Action("ApplyOptions", "Questionnaire")", function (response) {
                if (response.IsSuccess) {
                    close();
                } else {
                    $(".error").html(response.Error);
                }
            });
        }
    </script>
</head>
<body>
    @using (Html.BeginForm("EditOptions", "Questionnaire", FormMethod.Post, new { enctype = "multipart/form-data", @class = "navbar-left navbar-form" }))
    {
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">
                <input type="file" title="Import" accept=".csv" name="csvFile" onchange="this.form.submit()">
                <a class="btn btn-default navbar-btn" href="@Url.Action("ExportOptions", "Questionnaire")">Export</a>
                <a class="btn btn-default navbar-btn" href="@Url.Action("ResetOptions", "Questionnaire")">Reset</a>
            </div>
        </nav>
    }
    <div class="container-fluid">
        <div class="error"></div>
        <div class="row" style="min-height: 100px; text-align: center; vertical-align: central; margin-top: 20px">
            @if (Model != null && Model.Any())
            {
                <table class="table table-striped table-hover table-condensed">
                    <thead>
                        <tr>
                            <td>Value</td>
                            <td>Title</td>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var option in Model)
                        {
                            <tr>
                                <td>@option.Value</td>
                                <td>@option.Title</td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <text>No options</text>
            }
        </div>
    </div>
    <nav class="navbar navbar-default navbar-fixed-bottom" role="navigation">
        <div class="container">
            <a class="btn btn-success navbar-btn" href="javascript:apply();">Apply</a>
            <a class="btn btn-danger navbar-btn" href="javascript:close_window();">Cancel</a>
        </div>
    </nav>
</body>
</html>
