webpackJsonp([0],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"combo-box"},[n("div",{staticClass:"btn-group btn-input clearfix"},[n("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[null===e.value?n("span",{staticClass:"gray-text",attrs:{"data-bind":"label"}},[e._v(e._s(e.placeholderText))]):n("span",{attrs:{"data-bind":"label"}},[e._v(e._s(e.value.value))])]),e._v(" "),n("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu",attrs:{role:"menu"}},[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],ref:"searchBox",attrs:{type:"text",id:e.inputId,placeholder:"Search"},domProps:{value:e.searchTerm},on:{input:[function(t){t.target.composing||(e.searchTerm=t.target.value)},e.updateOptionsList],keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40))return null;e.onSearchBoxDownKey(t)}}})]),e._v(" "),e._l(e.options,function(t){return n("li",{key:t.key},[n("a",{attrs:{href:"javascript:void(0);"},domProps:{innerHTML:e._s(e.highlight(t.value,e.searchTerm))},on:{click:function(n){e.selectOption(t)},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38))return null;e.onOptionUpKey(t)}}})])}),e._v(" "),e.isLoading?n("li",[n("a",[e._v("Loading...")])]):e._e(),e._v(" "),e.isLoading||0!==e.options.length?e._e():n("li",[n("a",[e._v("No results found")])])],2)]),e._v(" "),null!==e.value?n("button",{staticClass:"btn btn-link btn-clear",on:{click:e.clear}},[n("span")]):e._e()])},a=[],i={render:s,staticRenderFns:a},r=i,o=n(3),l=n.n(o),u=n(0),c=u(l.a,r,null,null,null),d=c.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[e._t("filters")],2),e._v(" "),n("div",{staticClass:"main-information"},[n("div",{staticClass:"page-header clearfix"},[n("h1",[e._v("\n                        "+e._s(e.title)+"\n                    ")])]),e._v(" "),e._t("default")],2),e._v(" "),e._t("modals")],2)},f=[],h={render:p,staticRenderFns:f},m=h,v=n(4),b=n.n(v),g=n(0),y=g(b.a,m,null,null,null),$=y.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"filters"},[e._m(0),e._v(" "),n("div",{staticClass:"filters-container"},[n("h4",[e._v(e._s(e.$t("Pages.FilterTitle")))]),e._v(" "),e._t("default")],2)])},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"foldback-button",attrs:{id:"hide-filters"}},[n("span",{staticClass:"arrow"}),e._v(" "),n("span",{staticClass:"arrow"}),e._v(" "),n("span",{staticClass:"glyphicon glyphicon-tasks",attrs:{"aria-hidden":"true"}})])}],C={render:w,staticRenderFns:x},I=C,T=n(5),O=n.n(T),j=n(0),P=j(O.a,I,null,null,null),k=P.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block-filter"},[n("h5",[e._v(e._s(e.title))]),e._v(" "),e._t("default")],2)},M=[],R={render:q,staticRenderFns:M},F=R,E=n(6),S=n.n(E),A=n(0),L=A(S.a,F,null,null,null),D=L.exports,B=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},U=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped table-ordered table-bordered table-hover table-with-checkboxes table-with-prefilled-column table-interviews responsive"},[n("thead"),e._v(" "),n("tbody")])}],K={render:B,staticRenderFns:U},H=K,N=n(7),G=n.n(N),J=n(0),Q=J(G.a,H,null,null,null),z=Q.exports,V=function(e,t){var n=JSON.parse(window.vueApp.getAttribute("configuration"));Object.defineProperty(e.prototype,"$config",{get:function(){return n}})},W=function(e,t){Object.defineProperty(e.prototype,"$t",{get:function(){var e=this;return function(t){if(e.$config){e.$config.resource;return e.$config.resource[t]||t}return t}}})},X=n(2);X.a.use(V),X.a.use(W),X.a.component("Layout",$),X.a.component("Filters",k),X.a.component("FilterBlock",D),X.a.component("Typeahead",d),X.a.component("DataTables",z),t.a=function(e,t){new X.a(_.assign({el:"#vueApp",render:function(t){return t(e)},components:{app:e}},t))}},,function(e,t,n){"use strict";e.exports={name:"user-selector",props:["fetchUrl","controlId","value","placeholder","ajaxParams"],data:function(){return{options:[],isLoading:!1,searchTerm:""}},computed:{inputId:function(){return"sb_"+this.controlId},placeholderText:function(){return this.placeholder||"Select"}},mounted:function(){var e=this,t=$(this.$el),n=t.find("#"+this.inputId);t.on("shown.bs.dropdown",function(){n.focus(),e.fetchOptions(e.searchTerm)}),t.on("hidden.bs.dropdown",function(){e.searchTerm=""})},methods:{onSearchBoxDownKey:function(e){$(this.$refs.dropdownMenu).find("a").first().focus()},onOptionUpKey:function(e){1===$(e.target).parent().index()&&(this.$refs.searchBox.focus(),e.stopPropagation())},fetchOptions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.isLoading=!0;var n=Object.assign({query:t,cache:!1},this.ajaxParams);this.$http.get(this.fetchUrl,{params:n}).then(function(t){e.options=t.body.options||[],e.isLoading=!1},function(t){e.isLoading=!1})},clear:function(){this.$emit("selected",null,this.controlId),this.searchTerm=""},selectOption:function(e){this.$emit("selected",e,this.controlId)},updateOptionsList:function(e){this.fetchOptions(e.target.value)},highlight:function(e,t){var n=_.escape(e);if(t){var s=_.escape(_.escapeRegExp(t)),a=new RegExp(s,"ig");return n.replace(a,function(e,t,n){return"<strong>"+e+"</strong>"})}return n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["title"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["title"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{addParamsToRequest:{type:Function,default:function(e){return e}},responseProcessor:{type:Function,default:function(e){return e}},tableOptions:{type:Object,default:function(){return{}}},contextMenuItems:{type:Function,default:function(){return[]}},authorizedUser:{type:Object,default:function(){return{}}}},data:function(){return{table:null}},methods:{reload:function(e){this.table.ajax.data=this.addParamsToRequest(e||{}),this.table.rows().deselect(),this.table.ajax.reload()},selectRowAndGetData:function(e){this.table.rows().deselect();var t=e.parent().children().index(e);return this.table.row(t).select(),this.table.rows({selected:!0}).data()[0]},onTableInitComplete:function(){$(this.$el).parents(".dataTables_wrapper").find(".dataTables_filter label").on("click",function(e){e.target===this&&($(this).hasClass("active")?$(this).removeClass("active"):($(this).addClass("active"),$(this).children("input[type='search']").delay(200).queue(function(){$(this).focus(),$(this).dequeue()})))})},initContextMenu:function(){var e=this,t={selector:"#"+this.$el.attributes.id.value+" tbody tr",autoHide:!1,build:function(t,n){var s=e.selectRowAndGetData(t);return{items:e.contextMenuItems(s)}},trigger:"left"};$.contextMenu(t)}},mounted:function(){var e=this,t=this,n=$.extend({processing:!0,serverSide:!0,language:{url:window.input.settings.config.dataTableTranslationsUrl},searchHighlight:!0,pagingType:"full_numbers",lengthChange:!1,pageLength:20,dom:"frtp",conditionalPaging:!0},this.tableOptions);n.ajax.data=function(t){e.addParamsToRequest(t)},n.ajax.complete=function(t){e.responseProcessor(t.responseJSON)},this.table=$(this.$el).DataTable(n),this.table.on("init.dt",this.onTableInitComplete),this.table.on("select",function(e,n,s,a){t.$emit("select",e,n,s,a)}),this.table.on("deselect",function(e,n,s,a){t.$emit("deselect",e,n,s,a)}),this.table.on("click","tbody td",function(){var e=t.table.cell(this);if(e.index().column>0){var n=t.table.row(this).id(),s=t.table.settings().init().columns;t.$emit("cell-clicked",s[this.cellIndex].name,n,e.data())}}),this.$emit("DataTableRef",this.table),this.initContextMenu()}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",{attrs:{title:e.title,hasFilter:"true"}},[n("Filters",{slot:"filters"},[n("FilterBlock",{attrs:{title:e.title}},[n("Typeahead",{attrs:{"data-vv-name":"questionnaireId","data-vv-as":"questionnaire",placeholder:e.$t("Common.Any"),"control-id":"questionnaireId",ajaxParams:{statuses:e.statuses.toString()},value:e.questionnaireId,"fetch-url":e.$config.interviewerHqEndpoint+"/QuestionnairesCombobox"},on:{selected:e.questionnaireSelected}})],1)],1),e._v(" "),n("router-view",{attrs:{questionnaireId:e.questionnaireId}})],1)},a=[],i={render:s,staticRenderFns:a},r=i,o=n(15),l=n.n(o),u=n(0),c=u(l.a,r,null,null,null),d=c.exports,p=function(){var e=this,t=e.$createElement;return(e._self._c||t)("DataTables",{ref:"table",attrs:{tableOptions:e.tableOptions,addParamsToRequest:e.addFilteringParams,contextMenuItems:e.contextMenuItems}})},f=[],h={render:p,staticRenderFns:f},m=h,v=n(16),b=n.n(v),g=n(0),_=g(b.a,m,null,null,null),y=_.exports,$=n(2),w=n(12),x=n(13),C=n(1);$.a.component("InterviewsTable",y),$.a.use(w.a),$.a.use(x.a),$.a.http.headers.common.Authorization=input.settings.acsrf.token;var I=new w.a({base:$.a.prototype.$config.interviewerHqEndpoint+"/",mode:"history",routes:[{path:"/Started",component:y,props:{statuses:["InterviewerAssigned"]},caseSensitive:!1},{path:"/Rejected",component:y,props:{statuses:["RejectedBySupervisor","RejectedByHeadquarters"]},caseSensitive:!1},{path:"/Completed",component:y,props:{statuses:["Completed"]},caseSensitive:!1}]});Object(C.a)(d,{router:I})},,,function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{questionnaireId:null,title:"Change me"}},computed:{statuses:function(){return this.$route.matched[0].props.default.statuses}},methods:{questionnaireSelected:function(e){this.questionnaireId=e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["questionnaireId","statuses"],data:function(){return{tableOptions:{rowId:"id",deferLoading:0,columns:this.getTableColumns(),ajax:{url:this.$config.allInterviews,type:"GET",contentType:"application/json"},select:{style:"multi",selector:"td>.checkbox-filter"},sDom:'f<"table-with-scroll"t>ip'}}},mounted:function(){this.$refs.table.reload()},watch:{questionnaireId:function(e,t){this.$refs.table.reload()}},methods:{contextMenuItems:function(e){var t=this;return[{name:this.$t("Assignments.CreateInterview"),callback:function(){return t.openInterview(e)}}]},addFilteringParams:function(e){e.statuses=this.statuses,this.questionnaireId&&(e.questionnaireId=this.questionnaireId.key)},getTableColumns:function(){return[{data:"key",name:"Key",title:this.$t("Common.InterviewKey"),orderable:!0,searchable:!0},{data:"assignmentId",name:"AssignmentIdKey",title:this.$t("Common.Assignment"),orderable:!1,searchable:!1},{data:"featuredQuestions",title:this.$t("Assignments.IdentifyingQuestions"),class:"prefield-column first-identifying last-identifying sorting_disabled visible",orderable:!1,searchable:!1,render:function(e){var t=_.map(e,function(e){return e.question+": "+e.answer});return _.join(t,", ")},responsivePriority:4},{data:"lastEntryDate",name:"UpdateDate",title:this.$t("Assignments.UpdatedAt"),searchable:!1}]}}}}],[11]);
//# sourceMappingURL=interviewer_interviews.bundle.js.map