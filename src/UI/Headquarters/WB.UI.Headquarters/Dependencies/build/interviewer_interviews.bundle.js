webpackJsonp([0],[,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"combo-box"},[n("div",{staticClass:"btn-group btn-input clearfix"},[n("button",{staticClass:"btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[null===t.value?n("span",{staticClass:"gray-text",attrs:{"data-bind":"label"}},[t._v(t._s(t.placeholderText))]):n("span",{attrs:{"data-bind":"label"}},[t._v(t._s(t.value.value))])]),t._v(" "),n("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu",attrs:{role:"menu"}},[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],ref:"searchBox",attrs:{type:"text",id:t.inputId,placeholder:"Search"},domProps:{value:t.searchTerm},on:{input:[function(e){e.target.composing||(t.searchTerm=e.target.value)},t.updateOptionsList],keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40))return null;t.onSearchBoxDownKey(e)}}})]),t._v(" "),t._l(t.options,function(e){return n("li",{key:e.key},[n("a",{attrs:{href:"javascript:void(0);"},domProps:{innerHTML:t._s(t.highlight(e.value,t.searchTerm))},on:{click:function(n){t.selectOption(e)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38))return null;t.onOptionUpKey(e)}}})])}),t._v(" "),t.isLoading?n("li",[n("a",[t._v("Loading...")])]):t._e(),t._v(" "),t.isLoading||0!==t.options.length?t._e():n("li",[n("a",[t._v("No results found")])])],2)]),t._v(" "),null!==t.value?n("button",{staticClass:"btn btn-link btn-clear",on:{click:t.clear}},[n("span")]):t._e()])},i=[],a={render:s,staticRenderFns:i},r=a,o=n(3),l=n.n(o),u=n(0),c=u(l.a,r,null,null,null),d=c.exports,p={props:["title","hasFilter"],mounted:function(){window.title=this.title}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid"},[t.hasFilter?n("div",{staticClass:"row"},[t._t("filters")],2):t._e(),t._v(" "),n("div",{class:{"main-information":t.hasFilter,information:!t.hasFilter}},[n("div",{staticClass:"page-header clearfix"},[n("h1",[t._v(t._s(t.title))])]),t._v(" "),t._t("default")],2),t._v(" "),t._t("modals")],2)},f=[],m={render:h,staticRenderFns:f},v=m,b=n(0),g=b(p,v,null,null,null),y=g.exports,w={},x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"filters"},[t._m(0),t._v(" "),n("div",{staticClass:"filters-container"},[n("h4",[t._v(t._s(t.$t("Pages.FilterTitle")))]),t._v(" "),t._t("default")],2)])},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foldback-button",attrs:{id:"hide-filters"}},[n("span",{staticClass:"arrow"}),t._v(" "),n("span",{staticClass:"arrow"}),t._v(" "),n("span",{staticClass:"glyphicon glyphicon-tasks",attrs:{"aria-hidden":"true"}})])}],I={render:x,staticRenderFns:C},T=I,k=n(0),q=k(w,T,null,null,null),O=q.exports,j={props:["title"]},F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"block-filter"},[n("h5",[t._v(t._s(t.title))]),t._v(" "),t._t("default")],2)},P=[],R={render:F,staticRenderFns:P},E=R,S=n(0),A=S(j,E,null,null,null),L=A.exports,M={props:{addParamsToRequest:{type:Function,default:function(t){return t}},responseProcessor:{type:Function,default:function(t){return t}},tableOptions:{type:Object,default:function(){return{}}},contextMenuItems:{type:Function,default:function(){return[]}},authorizedUser:{type:Object,default:function(){return{}}}},data:function(){return{table:null}},methods:{reload:function(t){this.table.ajax.data=this.addParamsToRequest(t||{}),this.table.rows().deselect(),this.table.ajax.reload()},selectRowAndGetData:function(t){this.table.rows().deselect();var e=t.parent().children().index(t);return this.table.row(e).select(),this.table.rows({selected:!0}).data()[0]},onTableInitComplete:function(){$(this.$el).parents(".dataTables_wrapper").find(".dataTables_filter label").on("click",function(t){t.target===this&&($(this).hasClass("active")?$(this).removeClass("active"):($(this).addClass("active"),$(this).children("input[type='search']").delay(200).queue(function(){$(this).focus(),$(this).dequeue()})))})},initContextMenu:function(){var t=this,e={selector:"#"+this.$el.attributes.id.value+" tbody tr",autoHide:!1,build:function(e,n){var s=t.selectRowAndGetData(e);return{items:t.contextMenuItems(s)}},trigger:"left"};$.contextMenu(e)}},mounted:function(){var t=this,e=this,n=$.extend({processing:!0,serverSide:!0,language:{url:window.input.settings.config.dataTableTranslationsUrl},searchHighlight:!0,pagingType:"full_numbers",lengthChange:!1,pageLength:20,dom:"frtp",conditionalPaging:!0},this.tableOptions);n.ajax.data=function(e){t.addParamsToRequest(e)},n.ajax.complete=function(e){t.responseProcessor(e.responseJSON)},this.table=$(this.$el).DataTable(n),this.table.on("init.dt",this.onTableInitComplete),this.table.on("select",function(t,n,s,i){e.$emit("select",t,n,s,i)}),this.table.on("deselect",function(t,n,s,i){e.$emit("deselect",t,n,s,i)}),this.table.on("click","tbody td",function(){var t=e.table.cell(this);if(t.index().column>0){var n=e.table.row(this).id(),s=e.table.settings().init().columns;e.$emit("cell-clicked",s[this.cellIndex].name,n,t.data())}}),this.$emit("DataTableRef",this.table),this.initContextMenu()}},D=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table table-striped table-ordered table-bordered table-hover table-with-checkboxes table-with-prefilled-column table-interviews responsive"},[n("thead"),t._v(" "),n("tbody")])}],U={render:D,staticRenderFns:B},K=U,H=n(0),N=H(M,K,null,null,null),G=N.exports,J=function(t,e){var n=JSON.parse(window.vueApp.getAttribute("configuration"));Object.defineProperty(t.prototype,"$config",{get:function(){return n}})},Q=function(t,e){Object.defineProperty(t.prototype,"$t",{get:function(){var t=this;return function(e){if(t.$config){t.$config.resource;return t.$config.resource[e]||e}return e}}})},z=n(2);z.a.use(J),z.a.use(Q),z.a.component("Layout",y),z.a.component("Filters",O),z.a.component("FilterBlock",L),z.a.component("Typeahead",d),z.a.component("DataTables",G),e.a=function(t,e){new z.a(_.assign({el:"#vueApp",render:function(e){return e(t)},components:{app:t}},e))}},,function(t,e){t.exports={name:"user-selector",props:["fetchUrl","controlId","value","placeholder","ajaxParams"],data:function(){return{options:[],isLoading:!1,searchTerm:""}},computed:{inputId:function(){return"sb_"+this.controlId},placeholderText:function(){return this.placeholder||"Select"}},mounted:function(){var t=this,e=$(this.$el),n=e.find("#"+this.inputId);e.on("shown.bs.dropdown",function(){n.focus(),t.fetchOptions(t.searchTerm)}),e.on("hidden.bs.dropdown",function(){t.searchTerm=""})},methods:{onSearchBoxDownKey:function(t){$(this.$refs.dropdownMenu).find("a").first().focus()},onOptionUpKey:function(t){1===$(t.target).parent().index()&&(this.$refs.searchBox.focus(),t.stopPropagation())},fetchOptions:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.isLoading=!0;var n=Object.assign({query:e,cache:!1},this.ajaxParams);this.$http.get(this.fetchUrl,{params:n}).then(function(e){t.options=e.body.options||[],t.isLoading=!1},function(e){t.isLoading=!1})},clear:function(){this.$emit("selected",null,this.controlId),this.searchTerm=""},selectOption:function(t){this.$emit("selected",t,this.controlId)},updateOptionsList:function(t){this.fetchOptions(t.target.value)},highlight:function(t,e){var n=_.escape(t);if(e){var s=_.escape(_.escapeRegExp(e)),i=new RegExp(s,"ig");return n.replace(i,function(t,e,n){return"<strong>"+t+"</strong>"})}return n}}}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{questionnaireId:null,title:"Change me"}},computed:{statuses:function(){return this.$route.matched[0].props.default.statuses}},methods:{questionnaireSelected:function(t){this.questionnaireId=t}}},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout",{attrs:{title:t.title,hasFilter:"true"}},[n("Filters",{slot:"filters"},[n("FilterBlock",{attrs:{title:t.title}},[n("Typeahead",{attrs:{"data-vv-name":"questionnaireId","data-vv-as":"questionnaire",placeholder:t.$t("Common.Any"),"control-id":"questionnaireId",ajaxParams:{statuses:t.statuses.toString()},value:t.questionnaireId,"fetch-url":t.$config.interviewerHqEndpoint+"/QuestionnairesCombobox"},on:{selected:t.questionnaireSelected}})],1)],1),t._v(" "),n("router-view",{attrs:{questionnaireId:t.questionnaireId}})],1)},a=[],r={render:i,staticRenderFns:a},o=r,l=n(0),u=l(s,o,null,null,null),c=u.exports,d={props:["questionnaireId","statuses"],data:function(){return{tableOptions:{rowId:"id",deferLoading:0,columns:this.getTableColumns(),ajax:{url:this.$config.allInterviews,type:"GET",contentType:"application/json"},select:{style:"multi",selector:"td>.checkbox-filter"},sDom:'f<"table-with-scroll"t>ip'}}},mounted:function(){this.$refs.table.reload()},watch:{questionnaireId:function(t,e){this.$refs.table.reload()}},methods:{contextMenuItems:function(t){var e=this;return[{name:this.$t("Assignments.CreateInterview"),callback:function(){return e.openInterview(t)}}]},addFilteringParams:function(t){t.statuses=this.statuses,this.questionnaireId&&(t.questionnaireId=this.questionnaireId.key)},getTableColumns:function(){return[{data:"key",name:"Key",title:this.$t("Common.InterviewKey"),orderable:!0,searchable:!0},{data:"assignmentId",name:"AssignmentIdKey",title:this.$t("Common.Assignment"),orderable:!1,searchable:!1},{data:"featuredQuestions",title:this.$t("Assignments.IdentifyingQuestions"),class:"prefield-column first-identifying last-identifying sorting_disabled visible",orderable:!1,searchable:!1,render:function(t){var e=_.map(t,function(t){return t.question+": "+t.answer});return _.join(e,", ")},responsivePriority:4},{data:"lastEntryDate",name:"UpdateDate",title:this.$t("Assignments.UpdatedAt"),searchable:!1}]}}},p=function(){var t=this,e=t.$createElement;return(t._self._c||e)("DataTables",{ref:"table",attrs:{tableOptions:t.tableOptions,addParamsToRequest:t.addFilteringParams,contextMenuItems:t.contextMenuItems}})},h=[],f={render:p,staticRenderFns:h},m=f,v=n(0),b=v(d,m,null,null,null),g=b.exports,y=n(2),$=n(7),w=n(8),x=n(1);y.a.component("InterviewsTable",g),y.a.use($.a),y.a.use(w.a),y.a.http.headers.common.Authorization=input.settings.acsrf.token;var C=new $.a({base:y.a.prototype.$config.interviewerHqEndpoint+"/",mode:"history",routes:[{path:"/Started",component:g,props:{statuses:["InterviewerAssigned"]},caseSensitive:!1},{path:"/Rejected",component:g,props:{statuses:["RejectedBySupervisor","RejectedByHeadquarters"]},caseSensitive:!1},{path:"/Completed",component:g,props:{statuses:["Completed"]},caseSensitive:!1}]});Object(x.a)(c,{router:C})},,,function(t,e){}],[6]);
//# sourceMappingURL=interviewer_interviews.bundle.js.map