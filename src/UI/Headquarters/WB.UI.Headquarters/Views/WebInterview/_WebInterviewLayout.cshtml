@using Microsoft.Practices.ServiceLocation
@using WB.UI.Shared.Web.Extensions
@using WB.Core.Infrastructure.Versions
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    @this.GenerateFavicon(Url.Content("~/Content/identity/favicon-hq"))

    <!-- cssLibs:css -->
    <link rel="stylesheet" href="@Url.Content("~/Dependencies/build/libs.css")">
    <!-- endinject -->
    <!-- cssApp:css -->
    <link rel="stylesheet" href="@Url.Content("~/Dependencies/build/markup.css")">
    <!-- endinject -->
    <!-- jsLibs:js -->
    <script type="text/javascript" src="@Url.Content("~/Dependencies/build/libs.js")"></script>
    <!-- endinject -->
    <title>@WebInterview.StartPageTitle</title>
    <script type="text/javascript">
        $(document).ready(function () {
            $(".right-column .centered-box-table-cell").hide();
            var a = $(".right-column .centered-box-table-cell").length;
            var array = $(".right-column .centered-box-table-cell");
            var i = 0;
            $(".right-column").find(array[i]).show();
            $("#next-screen").click(function () {
                if (i < a - 1) {
                    i++;
                    $(".right-column .centered-box-table-cell").hide();
                    $(".right-column").find(array[i]).show();

                } else {
                    $(".right-column .centered-box-table-cell").hide();
                    $(".right-column").find(array[0]).show();
                    i = 0;
                };
            });
            $("<img/>")
                .on('error', function () { $("img#placeholder").parent().addClass("no-logo"); })
                .attr("src", $("img#placeholder").attr("src"));
        });

        $.fn.preventDoubleSubmission = function () {
            $(this).on('submit', function (e) {
                var $form = $(this);

                if ($form.data('submitted') === true) {
                    e.preventDefault();
                } else {
                    $form.data('submitted', true);
                }
            });

            // Keep chainability
            return this;
        };
        $(function () {
            $('form').preventDoubleSubmission();
        });

        if (!navigator.cookieEnabled) {
            $('body').addClass("no-cookies");
        }
    </script>
</head>
<body>
    <header>
        <div class="container-fluid">
            <nav class="navbar navbar-fixed-top" role="navigation">
                <div class="container-fluid ">
                    <div class="row flex-row">
                        <div class="col-lg-2 col-md-3 col-sm-4 col-xs-6">
                            <div class="centered-box-table">
                                <div class="centered-box-table-cell">
                                    <a class="brand" href="http://www.worldbank.org">
                                        <div class="retina-world-bank">World Bank Group</div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div><!-- /.container-fluid -->
            </nav>
        </div>
    </header>
    @if (!Request.Browser.Cookies)
    {
        <div class="no-cookies">@WebInterview.Error_CookiesTurnedOff</div>
    }
    <main class="start-web-interview">
        <div class="container-fluid">
            <div class="row two-columns-form">
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 col-sm-6 col-xs-12 left-column">
                    <div class="centered-box-table">
                        <div class="centered-box-table-cell">
                            <img src="#" id="placeholder" alt="survey management" />
                            <div class="default-logo"></div>
                            <p class="additional-info-block">Powered by <a href="#">Survey Solutions</a></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-5 col-sm-6 col-xs-12 right-column">
                    <div class="centered-box-table">
                        <div class="centered-box-table-cell">
                            @RenderBody()
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <div class="container-fluid">
            <div class="text-center">
                © @DateTime.Now.Year.ToString() <a href="http://www.worldbankgroup.org">@Common.TheWorldBankGroup</a>, @(Common.AlRightsReserved). <a href="http://go.worldbank.org/OS6V7NIUD0">@Common.Legal</a>.
            </div>
            <div class="text-center">
                @(ServiceLocator.Current.GetInstance<IProductVersion>())
                <span>|</span>
                <a href="@Url.Action("GetLatestVersion", "api/InterviewerSync", new {area = string.Empty})">@Common.GetInterviewerApp</a>
            </div>
        </div>
    </footer>
</body>
</html>
