@using WB.UI.Shared.Web.Captcha
@model WB.Enumerator.Native.WebInterview.Models.StartWebInterview
@{
    Layout = "_WebInterviewLayout.cshtml";
}

<h2>@WebInterview.WelcomeText</h2>
<p><b>@(string.Format(WebInterview.InvitationText, Model.QuestionnaireTitle))</b></p>

<div class="additional-info-block">
    @WebInterview.Resume_InvitationSmallText
</div>
@if (Model.ServerUnderLoad)
{
    <p><strong>@Html.Raw(WebInterview.ServerUnderLoad)</strong></p>
}
@using (Html.BeginForm())
{
    <div class="form-group">
        @Html.AntiForgeryToken()
    </div>
    if (Model.UseCaptcha && !Model.ServerUnderLoad)
    {
        if (ViewData.ModelState.ContainsKey("InvalidCaptcha") && ViewData.ModelState["InvalidCaptcha"].Errors.Any())
        {
            <div class="form-group has-error">
                <p>
                    <span class="help-block">
                        @Html.ValidationMessage("InvalidCaptcha")
                    </span>
                </p>
            </div>
        }
        <div class="form-group">
            @Html.RenderCaptcha()
        </div>
    }

    if (Model.ServerUnderLoad)
    {
        <div class="form-actions">
            <button class="btn btn-success btn-lg" onClick="window.location.reload();return false">@WebInterview.RefreshPage</button>
        </div>
    }
    else
    {
        <div class="form-actions">
            <button class="btn btn-success btn-lg" type="submit">@WebInterview.Start</button>
        </div>
    }
}
